\documentclass[11pt]{amsart}
%\usepackage{pdfsync}
\usepackage{amsmath,amssymb}

\newcommand{\Beta}{\mathcal B}

\newcommand{\ars}{\rightarrowtail}
\newcommand{\On}{\mathrm{ON}}
\newcommand{\OF}{\mathrm{ON}^\om}
\newcommand{\la}{{\langle}}
\newcommand{\ra}{{\rangle}}
\newcommand{\tcf}{\operatorname{tcf}}
\newcommand{\diam}{\operatorname{diam}}

\newcommand{\ran}{\operatorname{ran}}

\newcommand{\diag}{\mathbf{\Delta}}
\renewcommand{\a}{\alpha}
\renewcommand{\b}{\beta}
\renewcommand{\l}{\lambda}
\renewcommand{\k}{\kappa}
\newcommand{\ov}{\overline}
\renewcommand{\d}{\delta}
 \newcommand{\nat}{{\om}}
\newcommand{\rzecz}{{\mathbb R}}
\newcommand{\baire}{{\mathcal B}}
\newcommand{\conc}{\mathbin{\^{\hskip8pt}}}
\newcommand{\imply}{\Longrightarrow}
 \newcommand{\N}{\mathbb N}
\newcommand{\rng}{\rangle}
\newcommand{\lng}{\langle}
\newcommand{\rest}{\restriction}
\newcommand{\sm}{\setminus}
\newcommand{\om}{\omega}
\newcommand{\R}{\mathbb{R}}
\newcommand{\su}{\subseteq}
\newcommand{\cl}{{\rm cl}}
\newcommand{\Ba}{{\rm Ba}}
\newcommand{\Bo}{{\rm Bo}}
\newcommand{\g}{\gamma}
\newcommand{\aut}{\operatorname{Aut}}
\newcommand{\sym}{\operatorname{Sym}}
\newcommand{\vau}{\operatorname{v}}
\newcommand{\WFN}{\operatorname{WFN}}
\newcommand{\frow}{{}^\frown }
\newcommand{\Sf}{\operatorname{Sf}}
\newcommand{\supt}{\operatorname{supt}}
\newcommand{\Lip}{\operatorname{Lip}}
\newcommand{\Cont}{\operatorname{Cont}}
\newcommand{\cont}{\operatorname{Cont}}
\newcommand{\Comp}{\operatorname{Comp}}
\newcommand{\submodel}{\preccurlyeq}
\newcommand{\im}{\operatorname{i}}
\newcommand{\rc}{\operatorname{rc}}
\newcommand{\lpr}{\operatorname{lpr}}
\newcommand{\I}{\operatorname{I}}
\newcommand{\Bor}{\operatorname{Bor}}
\newcommand{\cf}{\operatorname{cf}}
\newcommand{\ci}{\operatorname{ci}}
\newcommand{\Fn}{\operatorname{Fn}}
\newcommand{\Fr}{\operatorname{Fr}}
\renewcommand{\Im}{\operatorname{Im}}
\newcommand{\dom}{\operatorname{dom}}
\renewcommand{\sp}{\operatorname{SP}}
\newcommand{\ro}{\operatorname{ro}}
\newcommand{\cov}{\operatorname{cov}}
\newcommand{\func}{\operatorname{Func}}

\newcommand{\loe}{\leqq}
\newcommand{\goe}{\geqq}


\newcommand{\conv}{\operatorname{conv}}
\newcommand{\cof}{\operatorname{cof}}
\renewcommand{\int}{\operatorname{int}}
\newcommand{\Non}{\operatorname{non}}
\renewcommand{\div}{\operatorname{div}}
\newcommand{\clop}{\operatorname{clop}}
\newcommand{\id}{\operatorname{id}}
\newcommand{\otp}{\operatorname{otp}}
\newcommand{\non}{\operatorname{non}}
\newcommand{\ZFC}{$\operatorname{ZFC}^*{}$}
\newcommand{\Succ}{\operatorname{succ}}
\newcommand{\hm}{\mathfrak{hm}}
\newcommand{\continuum}{\mathfrak{c}}
\newcommand{\supp}{\operatorname{supt}}
\newcommand{\fun}{\operatorname{fun}}
\newcommand{\dif}{\operatorname{dif}}
\newcommand{\iii}{I_{\operatorname{mono}}}
\newcommand{\CARD}{\operatorname{Card}}
\newcommand{\iin}{\mathcal I_n}
\newcommand{\ii}[1]{\mathcal I_{#1}}
\newcommand{\iim}{\mathcal I_m}
\newcommand{\stem}{\operatorname{stem}}
\newcommand{\MA}{\operatorname{MA}}
\newcommand{\Mgood}[1]{\mathcal M_{#1}}
\newcommand{\MVomegaone}[1]{\mathcal M^{V_{\omega_1}}_{#1}}
\newcommand{\Halephone}[1]{[\mathcal H_{#1}]^{\aleph_1}}
\newcommand{\forces}{\Vdash}
\newcommand{\SEP}{\operatorname{SEP}}
\newcommand{\incompatible}{\perp}
\newcommand{\card}[1]{\mid\!\!{#1}\!\!\mid}
\newcommand{\alomega}{{\aleph_{\omega+1}}}
\newcommand{\produkt}{{\prod_{n\in \N}\omega_{n+2}+1}}
\newcommand{\prodkappa}{{\prod_{n\in \N}\omega_{n+2}+1}}
\newcommand{\produktstar}{{\prod^*_{n\in B}\omega_n+1}}

\newcommand{\U}{\mathbb{U}}

\newcommand{\ignore}[1]{}

\newtheorem*{abstheorem}{Theorem}
\newtheorem*{notation}{Notation}

\newtheorem{theorem}{Theorem}[section]
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem{problem}[theorem]{Problem}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{claim}[theorem]{Claim}
\newtheorem{remaek}[theorem]{Remark}
\newtheorem{question}[theorem]{Question}
\newtheorem{fact}[theorem]{Claim}

\title{Symmetrized induced Ramsey Theory}

\author{Stefan Geschke}
\author{Menachem Kojman}

\begin{document}
\maketitle

\begin{abstract} We prove induced Ramsey theorems in which the induced
monochromatic subgraph satisfies that a prescribed subset of its
partial
automorphisms extend to total automorphisms of the colored graph.
\end{abstract}

\section{Introduction}


Embedding graphs into graphs with particular symmetry properties has
been
treated by several authors. Babai and S\'os \cite{BS} have shown how
to
embed a given graph into a transitive one, and Hrushovski \cite{H} has
shown that every finite graph $H$ can be embedded as an induced
subgraph
of a finite graph $G$ so that every partial automorphism of $H$
extends
to a total automorphism of $G$. Hrushovski's theorem was needed
in the model-theoretic proof of the \emph{small index property} of the
automorphism group of Rado's
countable universal graph $\Gamma$ \cite{HHLS}.

In the present paper we study the Ramsey-theoretic properties of
certain
symmetrized subgraph relations. Such a theorem with a target graph $H$
and
a source graph $G$ asserts that the induced copies of $H$ in $G$ which
satisfy that each member in a prescribed subset of their partial
automorphisms extends to a total automorphims of $G$ cannot be
``killed" by
vertex or by edge colorings with $c$ colors. When representing a
finite
graph $G$ as an ``object" in the computer-theoretic sense and viewing
the
automorphisms of $G$ as ``methods" of that object, it is desirable to
know
that for a certain subgraph $H$ of $G$ some of the partial
automorphisms
of $H$ can be implemented by those of $G$, and need not be stored
separately, e.g. that a vertex $v$ in $H$ can be moved to a vertex $u$
of
$H$. Our Ramsey theorems demonstrate ways in which stability
of this relation may be obtained, namely, that every partition of the
(vertices or edges) of the source graph to $c$ parts leaves at
least one good copy of $H$ intact.

We present several quite easy proofs of such symmetrized finite Ramsey
theorems which rely on the known induced Ramsey theorems and known
symmetrizing extensions. We also treat the infinite case and prove
that
for every finite vertex coloring of the countable random graph
$\Gamma$
there is a color which for  every countable graph $G$ contains an
induced copy of $G$ all of whose total automorphisms extend to
automorphisms of $\Gamma$. The fact that every countable graph $G$ has
at
least \emph{one} induced symmetrized copy in $\Gamma$ resembles
Kat\v etov's
treatment \cite{K} of Uryson's separable universal space $\U$: Kat\v
etov
proved that
every separable metric space embeds into $\U$ together with its group
of
auto-isometries --- hence that $\aut(\U)$ is a universal topological
group. The same relation of embedding a structure together with its
group of automorphisms was studied on families of sets by Kojman
and
Shelah in \cite{KS} where the existence of a bi-universal Borel family
of
sets over a countable set was proved among other results.

\subsection{Symmetrized subgraph relations}

By ``graph'' we always  mean  ``a simple graph'' $G=(V,E)$ where
$V\not=\emptyset$ is the set of vertices and $E\su [V]^2$ is the set
of
unordered edges.

 Suppose $H$ is an induced subgraph of
$G$. An isomorphism $f:A\to
B$ between two induced subgraphs of of $H$ is \emph{implemented by}
$\aut(G)$
if there exists $f^*\in \aut (G)$ so that $f\su f^*$. For a set $F$ of
isomorphisms between subgraphs of $H$ we write $H\su ^{F} G$ if $H$ is
an induced subgraphs of $G$ and every $f\in F$ is implemented by $\aut
(G)$. Let $H\le ^F G$ mean that $H$
is isomorphic to some $H'$ which satisfies $H'\su ^F G$.


Let $P=P(H)$ denote the set of all isomorphisms between \emph{finite}
induced subgraphs of $H$, let $P_1=P_1(H)$ denote the set of all maps
whose domain and range are singleton subsets of $V(H)$ and let
$A=A(H)$ abbreviate $\aut (H)$. Thus, $H\su ^P G$ means that every
finite isomorphisms between finite, induced subgraphs of $H$ extends
to a total automorphism of $G$, $H\su^{P_1} G$ means that every vertex
of $H$ one can be moved to the every vertex of $H$ by an automorphism
of $G$ and $H\su ^A G$ means that every automorphism of $H$ extends to
an automorphism of $G$.



Let $\Gamma$ denote Rado's countable and universal \emph{random
  graph}. Every isomorphism between two finite induced subgraphs of
$\Gamma$ is implemented in $\Gamma$, so every induced subgraph
$G$
of $\Gamma$ satisfies $G\su ^P \Gamma$. As every
countable graph embeds as an induced subgraph of $\Gamma$,
it holds that for every countable graph $G$,
\begin{equation}G\le ^P \Gamma.
\end{equation}



A fundamental theorem of Hrushovski \cite{H} says  that to implement
all
partial isomorphisms of a \emph{finite} graph $H$  a finite $G$
suffices:

\begin{theorem}[Hrushovski \cite{H}]
For every finite graph $H$ with $n$ vertices there exists a vertex
transitive graph $Z$ with no more than $(2n2^n)!$ so that
\begin{equation}
H\su^P Z.
\end{equation}
\end{theorem}

\bigbreak

\subsection{The results}
%We prove Ramsey theorems which demonstrate the stability of the
%induced subgraph relations defined above under vertex and edge
%colorings of suitable graphs.



\begin{notation}For $d\in \{1,2\}$,  the symbol
\[G\ars^F(H)^d_r\]
 means that for every coloring by $r$ colors of the vertices of $G$,
if
$d=1$, or of the edges of $G$, if $d=2$,
there exists a monochromatic $H'\su ^F G$ which is isomorphic
to $H$.
\end{notation}

We  prove separately for every  choice of $d\in\{1,2\}$ and
$F\in\{P_1, A, P\}$ that for every finite graph $H$ and natural
number $r\ge 1$ there exists a finite graph $G$ so that
\begin{equation}
G\ars^F (H)^d_r.
\end{equation}

Upper bounds on the number of vertices in $G$ are given  in the
number of vertices of $H$ in each case. In the case $d=1$ and
$F=P_1$, for example,  the size of $G$ is bounded asymptotically
by $|H|^{(2+\varepsilon)r}$ for arbitrarily small $\varepsilon>0$.

For a given graph $H$ and number of colors $r$ it is also possible
to find a \emph{single} finite graph $G$ that will satisfies the
relation $G\rightarrowtail^F (H)^d_r$ simultaneously for all $d\in
\{1,2\}$ and $F\in\{P_1,P, S\}$.

 In the case of the infinite
random graph $\Gamma$ not
 every induced subgraph $G$ of $\Gamma$ satisfies $G\su ^A
\Gamma$.
However,  for every countable graph $G$ and
$r>0$,
\begin{equation}
\Gamma\ars^A(G)^1_r.
\end{equation}
In fact, for every coloring of the vertex set of $\Gamma$ by finitely
many colors, a single color  contains $\su^A$-copies of all
countable graphs.

We also observe that the standard proof of the induced bipartite
Ramsey
theorem due to Ne\v set\v ril and  R\"odl actually gives its
symmetrized form.

We conclude the paper with several problems on induced Ramsey theory
and
automorphisms.



\section{Vertex Colorings}




A graph $G$ is \emph{vertex transitive} if for any two vertices
$v,u\in V^G$ there is an automorphism $\sigma \in \aut (G)$ such
that $\sigma(v)=u$. Equivalently, $G$ is transitive iff $G\su^{P_1}G$.
%, and is \emph{rigid} if $\aut(H)=\{\id_H\}$.




\begin{definition}
%\begin{enumerate}
a) Suppose $G=( V,E)$ is a graph and for every $v\in V$,
  $H_v=(U_v,E_v)$ is a graph. $\sum_G H_v$ is the graph whose
  vertex set is $\{(v,u):v\in V,\; u\in U_v\}$ and
  $\{(v_1,u_1),(v_2,u_2)\}$ an edge iff $\{v_1,v_2\}\in E$ or
  $v_1=v_2$ and $\{u_1,u_2\}\in E_v$.

b) If $H_v$ is a fixed graph $H$ for all $v\in V$, then $\sum_G H_v$
  is denoted $G\otimes H$, and called the \emph{wreath product} of $G$
  with $H$. The \emph{$r$-th wreath power} of a graph $G$, denoted
  $G^{\otimes r}$, is defined inductively by $G^{\otimes 1}=G$ and
  $G^{\otimes (r+1)}=G\otimes G^{\otimes r}$.
%\end{enumerate}
\end{definition}


\begin{lemma} \label{otimes} Suppose that $G$ is vertex transitive.
Then
 for all natural $r\ge 1$,
\begin{equation}\label{oeq}
G^{\otimes r} \text{ is vertex
 transitive and } G^{\otimes r}\ars ^A (G)^1_r.
\end{equation}
\end{lemma}
\begin{proof}
  Suppose $G$ is vertex-transitive. We prove (\ref{oeq}) by induction
  on $r\ge 1$. The case $r=1$ is trivial.


  Given a vertex coloring of $G^{\otimes (r+1)}$ by $r+1$ colors,
  assume first that for every $v\in V(G)$ there exists a vertex
  $u(v)\in V^{G^{\otimes r}}$ so that $(v,u(v))$ is red. The graph
  $G'$ spanned in $G^{\otimes (r+1)}$ by $\{(v,u(v)):v\in V^G\}$ is
  isomorphic to $G$ and monochromatic. Let $\sigma\in \aut(G')$ be
  given. As $G^{\otimes r}$ is vertex-transitive by the induction
  hypothesis, for every $v\in V^G$ there is an automorphism $\tau_v\in
  \aut(G^{\otimes r})$ such that $\tau_v(u(v))=u(\sigma(v))$. Define
  $\sigma^*(v,u):=(\sigma(v), \tau_v(u))$. Now $\sigma^*$ is an
  automorphism of $G^{\otimes(r+1)}$ which extends $\sigma$.

  The argument in this case establishes also that $G^{\otimes(r+1)}$
  is vertex-transitive.


  If the assumption above fails, then there is some $v\in V^G$ so that
  $(v,u)$ is not red for all $u\in V^{G^\otimes r}$. The graph $H$
  spanned by $\{(v,u):u\in G^{\otimes r}\}$ is isomorphic to
  $G^{\otimes r}$ and is colored by the given coloring by at most $r$
  colors. By the induction hypothesis, there is a monochromatic
  $G'\su^A H$ which is isomorphic to $G$. Every automorphism of $H$
  extends to an automorphism of $G^{\otimes r}$ (by making the
  extension act as the identity function outside $H$).
  So by
  transitivity of $\su^A$, every automorphism of $G'$ extends to an
  automorphism of $G^{\otimes r}$.
\end{proof}


\begin{theorem}\label{P1}
  There is a constant $c$ so that for every graph $H$ with $n$
  vertices and $r\ge 1$ there is a vertex-transitive graph $G$ with no
  more than $c^rn^{2r}$ vertices so that
\[G\ars^{P_1}(H)^1_r.\]
%In fact, a monochromatic copy of $H$ can be found in a
%symmetrized and induced monochromatic copy of some prescribe
%vertex-transitive graph $H'$ with $cn^2$ vertices.
\end{theorem}

\begin{proof}
  By \cite{BS}, there exists a constant $c$ such that every graph $H$
  with $n$ vertices is an induced subgraph of some vertex-transitive
 graph $G$, with at most $cn^2$ vertices. Given an
  arbitrary graph $H$ with $n$ vertices we may, then,  by increasing
the
  cardinality of $H$ to at most $cn^2$,  assume that $H$
  is vertex-transitive. Now $G=H^{\otimes r}$ is vertex transitive,
  $|G|=c^r n^{2r}$ and $G\ars^A(H)^1_r$ by Lemma \ref{otimes}. Given a
  vertex coloring of $G$ by $r$ colors and a monochromatic $H'\su ^A
  G$ which isomorphic to $H$, if  $f$ is any map between two
  singletons of $H'$, then $f$ extends to an automorphism of $H'$ by
  vertex-transitivity of $H'$ and then to an automorphism of $G$, as
  $H'\su ^A G$. Thus  $G\ars^{P_1}(H)^1_r$.
\end{proof}

\begin{theorem} \label{P} For every finite graph $H$ with $n$ vertices
  and $r\ge1$ there exists a vertex transitive graph $G$ with no more
  than $((2n2^n)!)^r$ vertices such that
\[G\ars^P(H)^1_r.\]
\end{theorem}

\begin{proof}
  Let $H$ be a given graph with $n$ vertices. By Hrushovski's theorem
  there exists a vertex-transitive graph $Z$ such that $H\le^A Z$ and
  $|V(Z)|\le (2n2^n)!$. The graph $Z^{\otimes r}$ is vertex transitive
  and $Z^{\otimes r}\ars^A(Z)^1_r$ by Lemma \ref{otimes}. Since
  $H\su^A Z$, this establishes that $Z^{\otimes r}\ars^P(H)^1_r$.
\end{proof}

Hrushovski \cite{H} proves that an exponential lower bound on $|G|$ in
terms of $|H|$ is required
 for the relation  $H\su^PG$, even if one restricts from  $P$ to
 permutations of free subsets of $H$. Thus, clearly, an exponential
 lower bound is required in the partition result just proved.

We handle next vertex partitions of the infinite random graph
$\Gamma$.

\begin{lemma}\label{inGamma}
For every countable graph $G$ it holds that $G\le ^A \Gamma$.
 \end{lemma}

\begin{proof}
Given a countable graph $G_0=(V^0, E^0)$, define by induction on $n$
a sequence of countable graphs
$G_{n}=(V^{n},E^{n})$ satisfying that $G^n$ is an induced subgraph of
$G^{n+1}$ for all $n$.
Let $V^{n+1}=V^n\cup\{v^{n+1}_X: X\su V^n \text{
  and } |X| \text{ is
  finite}\}$ and $E^{n+1}=E^n\cup\{(v,v^{n+1}_X):v^{n+1}_X\in
V^{n+1}\sm V^n \text{ and } v\in X\}$.

Clearly, $G^*$
is countable, and $G^0$ is an induced subgraph of $G^*$.

Let us see that $G^*\cong\Gamma$. For every two disjoint finite sets
$X,Y\su V^*$ there is some $n$ so that $X\cup Y\su V^n$ and hence
a vertex $v_X^{n+1}\in V^{n+1}$ connected by edges to all points
in $X$ and to no point in $Y$. This property, together with the
countability of $G^*$, implies that $G^*\cong\Gamma$.

Finally, let $\sigma\in \aut(G)$ be given. Let $\sigma=\sigma_0$
and let $\sigma_{n+1}\in \sym(V^{n+1})$ be the unique permutation
of $V^{n+1}$ which extends $\sigma_n$ and satisfies
$\sigma_{n+1}(v_X)=v_{\sigma_n[X]}$. Now $\bigcup_n \sigma_n$ is
an automorphism of $\Gamma$ which extends $\sigma$.
\end{proof}

\noindent \textbf{Remarks}: The embedding of $H$ as a
$\su^A$-subgraphs
of $\Gamma$ obtained above satisfies the additional
property that every vertex $v\in V(\Gamma)\sm V(H)$ has only finitely
many neighbors in $V(H)$. There is another way to embed $H$
symmetrically into $\Gamma$. Rather than realizing all finite sets of
$V_n$ as neighborhoods of vertices from $V_{n+1}$, one realizes all
\emph{definable sets} (with parameters). In this way, there are
vertices in $V(\Gamma)\sm V(H)$ with infinitely many neighbors in
$V(H)$.  We remark, finally, that from the \emph{small index property}
\cite{HHLS} and \emph{elimination of quantifiers} in $\Gamma$ it
easily follows that every subset of $\Gamma$ whose orbit under
$\aut(\Gamma)$ is countable is a finite Boolean combination of
neighborhoods.


\begin{theorem}\label{Gamma}
 For every $r\ge 1$,
\[\Gamma \ars^A(\Gamma)^1_r.\]
Thus for every vertex coloring of $\Gamma$ by $r$
  colors, there is a single color which contains induced symmetrized
  copies of all countable graphs.
\end{theorem}

\begin{proof}
  Let $r\ge 1$ be given. $\Gamma^{\otimes r}$ is countable, and as
  $\Gamma$ is vertex-transitive, $\Gamma^{\otimes
r}\ars^A(\Gamma)^1_r$
  by Lemma \ref{otimes}.  Fix $G\su^A\Gamma$ isomorphic to
  $\Gamma^{\otimes r}$ by Lemma \ref{inGamma}. For every vertex
  coloring of $\Gamma$ by $r$ colors, there is an induced
  monochromatic  copy of $\Gamma$,  $G''\su^A G'\su^A \Gamma$. For
every
  countable graph $H$ it holds that $H\le^A G''$ by Lemma
  \ref{inGamma}, so by transitivity of $\su^A$ we are done.
\end{proof}

It is well known \cite{EHP} that $\Gamma \not\ars (\Gamma)^2_2$.
In particular, for some countable graph $H$ there is no
countable graph $G$ such that $G\ars^A(H)^2_2$.

\section{Edge Colorings}

\begin{theorem}\label{edge}
%\begin{enumerate}
\item For every finite graph $H$ with $n$ vertices and $r\ge 1$ there
  is a graph $G$ with no more than $(2^{2^{cn(\log n)^2} + cn (\log
      n)^2 +1})!$, where $c$ is a constant and the logarithm is with
    base $2$,  so that
\[G\ars^{P}(H)^2_r.\]
%\end{enumerate}
\end{theorem}

\begin{proof}
 Given a finite graph $H$ and $r\ge 1$, fix, by the edge-induced
  Ramsey theorem (see \cite{GRS} p. 115), a finite graph $G$ so that
  $G\ars (H)^2_r$. By \cite{KPR} (see also \cite{FS}), $G$ can be
  chosen with no more than $2^{cn (\log n)^2}$ vertices.  Using
  Hrushovski's theorem, fix a finite graph $Z$ with $G\su Z$ with
  $|Z|\le (2|G|2^{|G|})!)=(2^{2^{cn(\log n)^2} + cn (\log
      n)^2 +1})!$ such that every isomorphism between two induced
  subgraphs of $G$ extends to an automorphism of $Z$. We argue that
  $Z\ars^A(H)^2_r$.  Given an edge-coloring of $Z$ by $r$ colors,
  consider its restriction to the edges of $G$. As $G\ars (H)^2_r$,
  there is a monochromatic $H'\su G$ which is isomorphic to $H$.
  Every automorphism of $H'$ is an isomorphism between induced
  subgraphs of $G$, hence extends to an automorphism of $Z$. Thus,
  $H'\su^A Z$.
\end{proof}


We conclude this section with the following

\begin{theorem}For every finite graph $H$ and number
of colors $r$ there is a finite graph $G$ such that
\[G\rightarrowtail^P(H)^d_r\]
holds for both   $d=1$ and $d=2$.
\end{theorem}

\begin{proof}
First find and induced extension $G_1$ of $H$ such that
$G_1\rightarrowtail (H)^2_r$ by \ref{edge}. Then find a
\emph{transitive} $G_2$ such that $G_1\su^P G_2$
by Hrushovski's
theorem. Now let $G=G_2^{\otimes r}$.

It holds that $G\rightarrowtail ^S(G_2)^1_r$ by \ref{otimes}, so
since $H\su ^P G_2\su^S  G$, it holds that
$G\rightarrowtail^P(H)^1_r$.

The  relation $G\rightarrowtail^P(H)^2_r$ holds because
$G_2\rightarrowtail^P(H)^2_r$ holds and $G_2\su^SG$.
\end{proof}



\subsection{Bipartite graphs}



A \emph{bipartite graph} is a triple $B=\lng L,R,E\rng$ where
$\lng L\cup R, E\rng$ is a graph and  $|e\cap L|=|e\cap R|=1$ for
all $e\in E$. $L$ is the \emph{left side} of $B$ and $R$ is the
\emph{ right side} of $B$.

Hrushovski's theorem holds also for bipartite graphs. This follows
either from adapting the original proof to bipartite graphs, or
from Herwig's extension \cite{H} of Hrushovski's theorem to
relational structures. Thus, one can obtain the analog of Theorem
\ref{edge} via a similar proof, using Ne\v set\v ril and R\"
odl's bipartite induced Ramsey theorem \cite{NR76}. However, it
is not necessary to use Hrushovski's theorem at all in this case,
as the monochromatic induced bipartite graph given by the proof
in \cite{NR76} is symmetrized. This is shown in the proof of
Theorem \ref{bip1}

With vertex colorings of bipartite graphs the situation is
slightly different. One can  color all vertices in $L$ by red and
all vertices in $R$ by blue to avoid monochromatic bipartite
subgraphs altogether. Theorem \ref{bip2} below shows that
monochromatic sides can  be guaranteed on some symmetrized induced
bipartite subgraph.

\begin{definition}
  The \emph{$n$-th symmetric power} of a bipartite graph $B=\lng L,R,
  E\rng$, introduced in \cite{NR76} (see also \cite{GRS} p. 119),
denoted by
  $B^{(n)}$, is the bipartite graph $\lng L^n, R^n, E^{(n)}\rng$ where
  $\{\bar v, \bar u\}\in E^{(n)}$ iff for all $i<n$ it holds that
  $\{v(i),u(i)\}\in E$.
\end{definition}

The mapping $\lng \lng v(i):i<n\rng, \lng u(i):i<n\rng\rng\mapsto
\lng \{v(i),u(i)\}:i<n\rng$ is a natural 1-1 correspondence
between $E^{(n)}$ and $E^n$, the set of all sequence of length
$n$ of edges from $E$.

\begin{theorem}\label{bip1}
  For every finite bipartite graph $B=\lng L, R, E\rng$ and $r>0$
  there exists a number $n$ so that $B^{(n)}\ars^A (B)^2_1$.
\end{theorem}

\begin{proof}
  First, let us assume that $B$ has no isolated vertices. This can be
  achieved by adding a unique neighbor in $L$ to every isolated
  vertex in $R$ and vice versa.


Let $n=HJ(|E|,r)$, the Hales-Jewett number of $n$ and $r$. A
coloring of $E^{(n)}$ by $r$ colors can be considered as a
coloring of $E^n$ via
 the natural correspondence above.

 Let $W\in
(E\cup\{X\})^n$ be a word such that $I=\{i:
W(i)=X\}\not=\emptyset$ and so that the combinatorial line
defined by $W$ in $E^n$ is monochromatic. The line defined by $W$
is $\{W(e):e\in E\}$ where $W(e)$ is obtained from $W$ by
substituting $e$ for every occurrence of $X$ in $W$.

Define an embedding $\phi$  of $B$ into $B^{(n)}$ as follows. For
$v\in L$ let $\phi(v)=\lng W(i)\cap L: i\in n\sm I\rng\cup \lng v:
i\in I\rng$, that is, the sequence of left vertices from $W(i)$
for all $i$ such that $W(i)\not=X$ and constantly $v$ for all
$i\in I$. For $u\in R$, $\phi(u)$ is defined similarly.

As $B$ has no isolated vertices, the map $\phi$ clearly embeds $B$
into $B^{(n)}$ as an induced subgraph. Furthermore, this subgraph
is monochromatic, as the combinatorial line defined by $W$ is. We
argue that this induced monochromatic copy of $B$ is also
symmetrized. Indeed, let $\sigma\in \aut (\phi(B))$ be given, and
let $\bar \sigma:L^n\cup R^n\to L^n\cup R^n$ be defined as
follows: for $\bar v= \lng v(i):i<n\rng$, $\bar \sigma(\bar
v)=\lng v(i):i\in n\sm I\rng \cup \lng \sigma(v(i)):i\in I\rng$,
and similarly for $\bar u\in R^n$. This is an automorphism of
$B^{(n)}$: if $\{ \bar v,\bar u\}$ then $\{\bar v(i),\bar
u(i)\}\in E$ for all $i<n$. For $i\in n\sm i$ it holds that $\bar
\sigma (\bar v)(i)=\bar v(i)$ and $\bar \sigma(\bar u)(i)=\bar
u(i)$, while for $i\in I$ it holds that $\{\bar \sigma(\bar
u)(i),\bar\sigma(\bar v)(i)\}\in E$ because $\sigma \in \aut
(\phi(H))$, so $\{\bar\sigma(\bar u),\bar\sigma(\bar v)\}\in
E^{(n)}$. Similarly, non-edges are preserved. Clearly, $\bar
\sigma$ extends $\sigma$.
\end{proof}

\begin{theorem}\label{bip2}
  For every finite bipartite graph $B$ and $r>0$ there exists $n$ such
  that for every coloring of vertices of $B^{(n)}$ by $r$ colors there
  is a symmetrized induced copy of $B$ whose left side is
  monochromatic and whose right side is monochromatic.
\end{theorem}

\begin{proof}
  Assume, as in the previous proof, that $B=\lng L,R,E\rng$ has no
  isolated vertices and let $n=HJ(|E|,r^2)$. Given a vertex coloring
  $c$ of $B^{(n)}$ by $r$ colors, define an edge coloring of $B$ by
$r^2$
  colors by assigning the color $\lng c(e\cap L^n),c(e\cap R^n)\rng$
to an
  edge $e\in E^{(n)}$.
\end{proof}

\section{Discussion}
Can a smaller upper bound than $(2n2^n)!$ be obtained on the size
of a graph $Z$ satisfying $G\su^A Z$ where $|G|=n$?  Hrushovski
\cite{H} shows that for the property that every automorphism
between subgraphs of $G$ extends to a full automorphism of $Z$,
an exponential lower bound on $|A|$ in terms of $|G|$ is required.

Hrushovski considers in \cite{H} the case $F=\{f\}$, that is,
when one is required to implement in $G$ a single arbitrary
partial isomorphism of $H$, and proves:

\begin{abstheorem} There are constants $c<c'$ so that if one defines
  $g(n)$ to be the least $m$ so that for every graph $H$ with $n$
  vertices and every isomorphism between subgraphs of $H$ there exists
  a graph $G$ with at most $m$ vertices so that $H\su^{\{f\}}G$, then
\[c(n\log n)^{1/2}\le \log g(n) \le c'(n\log n)^{1/2}.\]
\end{abstheorem}

It is interesting to know if an upper bound in the order of magnitude
of Hrushovski's function $g$ can be found for $G$ in
$G\ars^{\{f\}}(H)^1_2$, for arbitrary $f$.

Considering the fact we have a polynomial upper bound for $|G|$ in
$G\ars^{P_1}(H)^1_2$ but that, from Hrushovski's theorem, even for a
single unrestricted partial isomorphism, a super-polynomial lower
bound, it is equally interesting to ask if there is
a number $k$ such that the upper bound for $G\ars^{P_k}(H)^1_2$ is
polynomial but the lower bound for $G\ars^{P_{k+1}}(H)^1_2$ is not
polynomial, where, of course, $P_k=P_{k}(H)$ is the set of all
isomorphisms between two subgraphs of $H$, each of cardinality
$k$.

Randomly constructed graphs tend to be rigid. Fox and Sudakov
\cite{FS} recently re-established the upper bound of $2^{cn(\log
  n)^2}$ which was obtained in \cite{KPR} with a randomly constructed
graph with the explicit Paley graph, which has quite a few
automorphisms.  Can one find a better upper bound than the one
obtained in Theorem \ref{edge}?  Can pseudo-random bipartite graphs be
used to give a good upper bound for the bipartite graph relation,
instead of the upper bound coming from the Hales-Jewett theorem.

It is also interesting to find lower bounds for the
vertex-coloring theorems. Is the $n^r$ bound tight for vertex
transitive graphs in \ref{P1}?


\bigskip
The authors  thank Noga Alon for directing  them to references
\cite{ALR,B,BS,FS} and  for his  detailed explanations of the
results in them.


\begin{thebibliography}{99}

\bibitem{ALR} N. Alon, H. Lefmann and V. R\"odl.
{\sl On an anti-Ramsey type result}, Colloq. Math. Soc. J\'anos
Bolyai 60; Sets, Graphs and Numbers, Budapest (Hungary), 1991,
9-22.


\bibitem{B} Babai, L.
{\sl An anti-Ramsey theorem.} Graphs Combin. 1 (1985), no. 1,
23--28.


\bibitem{BS} L\'aszl\'o Babai and  Vera T. S\'os.
{\sl Sidon sets in groups and induced subgraphs of Cayley graphs.}
European J. Combin. 6 (1985), no. 2, 101--114.



\bibitem{GRS} Ronald L. Graham, Bruce L. Rothschild and Joel
  H. Spencer. {\bf Ramsey Theory} Jon Wiley \& sons, 1990.

\bibitem{H} Ehud Hrushovski. {\sl Extending partial isomorphisms of
  graphs}, Combinatorica  12 (4) (1992) 411--416.

\bibitem{EHP} P. Erd\H os, A. Hajnal and L.  P\'osa. {\sl Strong
    embeddings of graphs into colored graphs.} Infinite and finite
  sets (Colloq. Keszthely, 1973; dedicated to P. Erd\H os on his 60th
  birthday), Vol. 1, pp. 585--595.

\bibitem{FS} Jacob Fox and Benny Sudakov. {\sl Induced Ramsey-type
    theorems}, preprint.


\bibitem{HHLS} W. Hodges, I. Hodkinson, D. Lascar and S. Shelah. {\sl
The
    small index property for $\omega $-stable, $\omega$-categorical
    structures and the random graph,} J London Math Soc 48 (1993)
    pp. 204-218.

\bibitem{K} M. Kat\v etov. {\sl On universal metric spaces} in: General
topology and its
relations to modern analysis and algebra, VI (Prague 1986), Helder-
mann, Berlin (1988), 323--330.


\bibitem{KPR} Y. Kohayakawa, H. Pr\"omel and V. R\"odl. {\sl Induced
    Ramsey numbers,} Combinatorica 18 (1998) pp. 373--404.

\bibitem{KS}  M. Kojman and S. Shelah. {\sl Homogeneous families and
their
automorphism groups,} Journal of the London Mathematical Society (2)
52
(1995) 303--317.



\bibitem {NR76} J. Ne\v set\v ril and V. R\"odl. {\sl The Ramsey
    Property for Graphs with Forbidden Complete Subgraphs.}
  J. Comb. Th. (B) 20 (1976), 243--249.



\end{thebibliography}
\end{document}


NOT TRUE: the vertex transitive graph does not extent the $f$.

\begin{theorem} There is a constant $c$ so that for every $r>0$,
  every graph $H$ with $n$ vertices and every $f\in P(H)$  there
exists a graph $G$
  with no more than $2^{rc\sqrt{n \log n}}$ vertices so that
\[G\ars^{\{f\}}(H)^1_r.\]
\end{theorem}

\begin{proof}
By \cite{H} 3.5, there are constants $c'<c$ so that for every
sufficiently large $n$, for every  graph
$H$
with $n$ vertices and an isomorphism $f$ between two induced subgraphs
of $H$ there exists a graph $Z$ with at most $2^{c\sqrt{n \log n}}$
  such that $H\su^{\{f\}} Z$.

%HERE!
By enlarging the constant $c$ we may assume
  that such a $Z$ is vertex transitive.


 Now by Lemma \ref{otimes} we
  get a graph $G$ with no more than $2^{rc\sqrt{n \log n}}$ vertices
  satisfying $G\ars^{\{f\}}(H)^1_r$.
\end{proof}

Discuss lower bound.





\begin{definition}
%\begin{enumerate}
  % \item A \emph{graph} $G$ is an ordered pair $(V^G,E^G)$ with
  %   $V\not=\emptyset$ and $E\su
 % [V]^2:=\{e:e\su V \text{ and } |e|=2\}$.
%\item $H$ is an \emph{induced subgraph} of $G$ if $V^H\su V^G$ and
%  $E^H=E^G\cap [V^H]^2$. We write $H\su G$ if $H$ is an induced
%  subgraph of $G$ and $H\le G$ if $H$ is isomorphic to an
%  induced subgraph of $G$.
%\item
$H$ is a \emph{symmetrized induced subgraph} of $G$ if $H$ is an
  induced subgraph of $G$ and every automorphism of $H$ extends to an
  automorphism of $G$. We denote this relation by $H\su^A G$. The
  relation $H\le ^A G$ means that there exists $H'\su^A G$ so that
  $H'$ is isomorphic to  $H$.
\end{definition}

Let $\Gamma$ denote Rado's countable universal and
ultrahomogeneous graph, also known as the countable random graph.
Countability, finite universality (the property that every  finite
graphs embeds as an induced subgraph into $\Gamma$) and
ultrahomogeneity --- the property that every isomorphism between
two finite induced subgraphs of $\Gamma$ extends to an
automorphism of $\Gamma$ --- determine $\Gamma$ up to
isomorphism. Ulrahomogeneity implies that for every finite
induced subgraph $H\su \Gamma$ it holds that $H\su^A\Gamma$.

Rado's graph is univeresal: every countable graph embeds as an
induced subgraph of $\Gamma$ and, furthermore, for every
partition of the vertex set $\Gamma$ to finitely many parts, one
of the parts contains an isomorphic induced copy of $\Gamma$,
hence isomorphic copies of all countable graphs.


We shall prove below (Theorem \ref{main} (3)) that Rado's graph is
  bi-universal, that is, every countable graph embeds into $\Gamma$ as
  a symmetrized induced subgraph, the same holds with ``induced
  symmetrized copy of $\Gamma$'', and that for every partition of the
  vertex set of $\Gamma$ to finitely many parts, one of the parts
  contains an induced symmetrized copy of $\Gamma$, hence of every
  countable graph.



The relation $\su^A$ makes sense also between finite graphs.
Hrushovski \cite{H} proved that for fixed finite $H\su \Gamma$
there exists a finite $G$ satisfying $H\su G\su \Gamma$ so that
every isomorphism between induced subgraphs of $H$ extends to an
automorphism of $G$. Both vertex and edge induced Ramsey theorems
hold for $\su^A$ on finite graphs (Theorem \ref{main}(1) and (2)).



\begin{definition}
\begin{enumerate}
\item The symbol $G\ars^A (H)^1_r$ means: for every \emph{vertex
    coloring} of $G$ with $r$ colors there is a monochromatic $H'\su^A
  G$ isomorphic to $H$.
  \item $G\ars^A(H)^2_r$ is like  $G\ars^A (H)^1_r$ with
  ``vertex coloring''    replaced by \emph{``edge coloring''}.
\end{enumerate}
\end{definition}


Hrushovski's Theorem \cite{H} states that every finite graph $H$
with $n$ vertices is an induced subgraph of some vertex
transitive graph $Z$ with no more than $(2n2^n)!$ vertices such
that every isomorphism between two induced subgraphs of $H$
extends to an automorphism of $Z$ (in particular, $H\su^A Z$).

